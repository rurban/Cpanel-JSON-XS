{"version":1,"ops":[{"type":3,"author":{"id":"62dd9760d78f71cdadad84da4dd3b8e34fd34012"},"timestamp":1477471261,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NjI4NDk0MA==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/71#issuecomment-256284940"},"message":"Probably related to http://www.nntp.perl.org/group/perl.perl5.porters/2015/08/msg230472.html","files":null},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1477471622,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NjI4NjIzNg==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/71#issuecomment-256286236"},"message":"Looks like we need to probe for a broken modfl until this is fixed upstream.\nCan you try this patch?\n\n```\n--- cpan/Cpanel-JSON-XS/XS.xs\n+++ cpan/Cpanel-JSON-XS/XS.xs\n@@ -48,6 +48,21 @@\n #define STR_NAN \"nan\"\n #endif\n\n+#if defined(USE_LONG_DOUBLE) \u0026\u0026 defined(__MINGW64__) \\\n+    \u0026\u0026 __MINGW64_VERSION_MAJOR == 4 \u0026\u0026 __MINGW64_VERSION_MINOR == 0\n+   /* modfl() segfaults for -Duselongdouble \u0026\u0026 64-bit mingw64 \u0026\u0026 mingw\n+      runtime version 4.0 [perl #125924] */\n+#undef HAS_MODFL\n+#undef Perl_modf\n+#define Perl_modf(nv, ip) Perl_mingw_modfl(nv, ip)\n+long double\n+Perl_mingw_modfl(long double x, long double *ip)\n+{\n+    *ip = truncl(x);\n+    return (x == *ip ? copysignl(0.0L, x) : x - *ip);\n+}\n+#endif\n+\n #if defined(_AIX)\n #define HAVE_QNAN\n #undef STR_QNAN\n```","files":null},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1477485062,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NjMzMzAxNg==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/71#issuecomment-256333016"},"message":"patched with 3.0219","files":null},{"type":4,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1477485062,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50ODM2OTY3OTcw"},"status":2}]}