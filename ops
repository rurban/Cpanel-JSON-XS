{"version":1,"ops":[{"type":3,"author":{"id":"14b6bcfbb67424c733eb6e78d6df4126e0d229ba"},"timestamp":1621544716,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0NTQ3NjExOA==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/179#issuecomment-845476118"},"message":"To verify if the problem is caused by outdated Perl modules in Ubuntu 20.04, I tried with uninstalling the relevant operating system packages and installing the recent ones available in CPAN, however I still get the \"segmentation fault\" error previously described.\n\nThese are the commands I executed this time:\n\n      aptitude remove libcpanel-json-xs-perl\n      aptitude remove libjson-xs-perl\n      # I chose the option that removed the other packages that depended on them\n\n      dpkg -l | grep -i perl | grep -i json\n      # (returns an empty output)\n\n      dpkg -l | grep -i perl | grep -i crypt\n      # (returns an empty output)\n\n      apt-get install cpanminus\n      apt-get install make\n      apt-get install gcc\n\n      cpanm Cpanel::JSON::XS\n      # (this successfully installs Cpanel::JSON::XS version 4.26)\n\n      cpanm Crypt::JWT\n      # (this successfully installs Crypt-JWT version 0.033 with its dependencies JSON version 4.03 and CryptX version 0.072)\n\n      apache2 -X\n      # (after the wget request, typed Ctrl+C to stop the web server)","files":null},{"type":3,"author":{"id":"14b6bcfbb67424c733eb6e78d6df4126e0d229ba"},"timestamp":1621545057,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0NTQ3OTUzOA==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/179#issuecomment-845479538"},"message":"Continuing with my previous comment, I tried with manually removing the Cpanel::JSON::XS that I installed from CPAN, observing that again this stops the \"segmentation fault\" from happening.\n\nThis is the executed command, showing the files that were removed:\n\n      cpanm --uninstall Cpanel::JSON::XS\n      Cpanel::JSON::XS contains the following files:\n      \n        /usr/local/bin/cpanel_json_xs\n        /usr/local/lib/x86_64-linux-gnu/perl/5.30.0/Cpanel/JSON/XS.pm\n        /usr/local/lib/x86_64-linux-gnu/perl/5.30.0/Cpanel/JSON/XS/Boolean.pm\n        /usr/local/lib/x86_64-linux-gnu/perl/5.30.0/Cpanel/JSON/XS/Type.pm\n        /usr/local/lib/x86_64-linux-gnu/perl/5.30.0/auto/Cpanel/JSON/XS/XS.so\n        /usr/local/man/man1/cpanel_json_xs.1p\n        /usr/local/man/man3/Cpanel::JSON::XS.3pm\n        /usr/local/man/man3/Cpanel::JSON::XS::Boolean.3pm\n        /usr/local/man/man3/Cpanel::JSON::XS::Type.3pm","files":null},{"type":3,"author":{"id":"14b6bcfbb67424c733eb6e78d6df4126e0d229ba"},"timestamp":1621553278,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0NTU0NzkzMw==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/179#issuecomment-845547933"},"message":"With Ubuntu 21.04 (Hirsute Hippo) the \"segmentation fault\" also happens, in a similar way to that described for Ubuntu 20.04.\n\nThe difference is that I needed to manually install the `libcpanel-json-xs-perl` package, because it is no longer a dependency for `libcrypt-jwt-perl`, which now depends on the `libjson-perl` package, which in turn ends installing the now preferred `libjson-xs-perl` package.","files":null},{"type":3,"author":{"id":"14b6bcfbb67424c733eb6e78d6df4126e0d229ba"},"timestamp":1621554862,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0NTU1NjM5MQ==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/179#issuecomment-845556391"},"message":"With the older Ubuntu 18.04 (Bionic Beaver) the \"segmentation fault\" error does not happen.\n\nI found these differences in this case:\n\n- The package `libcrypt-jwt-perl` does not exist in that distribution.\n\n- I manually installed the `libcpanel-json-xs-perl` and `libjson-xs-perl` with these commands:\n\n      apt-get install libcpanel-json-xs-perl # this installed version 3.0239-1\n      apt-get install libjson-xs-perl # this installed version 3.040-1\n\n- To use the `cpanm` command, I previously executed these commands:\n\n      apt-get install cpanminus\n      apt-get install make\n      apt-get install gcc\n\n- From CPAN, I installed Crypt::JWT with this command:\n\n      cpanm Crypt::JWT # this installed Crypt-JWT version 0.033 and its dependencies CryptX version 0.072 and JSON version 4.03","files":null},{"type":5,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1621574265,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ3NzcyMDk1ODI="},"added":["bug"],"removed":[]},{"type":5,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1621574265,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ3NzcyMDk1ODM="},"added":["threads"],"removed":[]},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1621574337,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0NTY2MDU2Mw==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/179#issuecomment-845660563"},"message":"Thanks for the simple testcase, the rest is all irrelevant","files":null}]}