{"version":1,"ops":[{"type":1,"author":{"id":"ec8d29670ff994e79f210384ff8c7a951a66abe8"},"timestamp":1545216571,"metadata":{"github-id":"MDU6SXNzdWUzOTI1NDMwMTQ=","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/119","origin":"github"},"title":"encode_json() fails to escape control characters properly","message":"`encode_json()` doesn't seem to properly escape control characters. Consider the following input:\n```perl\nmy $sJsonString = encode_json({foo =\u003e \"bar\\nbaz\"});\n```\nI'd expect `$sJsonString` to be\n```json\n{\"foo\":\"foo\\\\nbar\"}\n```\nbut this is apparently not the case, if I redirect `$sJsonString` to a file, I'm actually getting\n```json\n{\"foo\":\"foo\\nbar\"}\n```\nwhich then makes `JSON.parse()` complain, that I have a \"bad control character in string literal\".\n\nIf I use single quotes\n```perl\nmy $sJsonString = encode_json({foo =\u003e 'bar\\nbaz'});\n```\nI do get the properly escaped `{\"foo\":\"foo\\\\nbar\"}` back.","files":null}]}