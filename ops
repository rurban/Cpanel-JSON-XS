{"version":1,"ops":[{"type":1,"author":{"id":"62dd9760d78f71cdadad84da4dd3b8e34fd34012"},"timestamp":1452429875,"metadata":{"github-id":"MDU6SXNzdWUxMjU4MTc0NTU=","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/57","origin":"github"},"title":"failure on mingw64 + longdouble","message":"Hi,\n\nwhen building Cpanel-JSON-XS-3.0210 on\n- perl 5.22.1 **WITH longdouble** / 64bit MS Windows\n- gcc-4.9.2 compiler\n\nI got these failures:\n\n```\nt/00_load.t ................. ok\nt/01_utf8.t ................. ok\nt/02_error.t ................ ok\nt/03_types.t ................ ok\nt/04_dwiw_encode.t .......... ok\nt/05_dwiw_decode.t .......... ok\nt/06_pc_pretty.t ............ ok\nt/07_pc_esc.t ............... ok\nt/08_pc_base.t .............. ok\nt/08_pc_base_nv.t ........... ok\nt/09_pc_extra_number.t ...... ok\nt/104_sortby.t .............. ok\nt/105_esc_slash.t ........... ok\nt/106_allow_barekey.t ....... ok\nt/107_allow_singlequote.t ... ok\nt/108_decode.t .............. ok\nt/109_encode.t .............. ok\nt/10_pc_keysort.t ........... ok\nt/110_bignum.t .............. ok\nt/112_upgrade.t ............. ok\nt/113_overloaded_eq.t ....... ok\nt/114_decode_prefix.t ....... ok\nt/115_tie_ixhash.t .......... ok\nt/116_incr_parse_fixed.t .... ok\n\n#   Failed test 'inf -\u003e null'\n#   at t/117_numbers.t line 7.\n#          got: '[inf]'\n#     expected: '[null]'\n\n#   Failed test 'nan -\u003e null'\n#   at t/117_numbers.t line 8.\n#          got: '[nan]'\n#     expected: '[null]'\n\n#   Failed test '-inf -\u003e null'\n#   at t/117_numbers.t line 9.\n#          got: '[-inf]'\n#     expected: '[null]'\n\n#   Failed test '-nan -\u003e null'\n#   at t/117_numbers.t line 10.\n#          got: '[nan]'\n#     expected: '[null]'\n\n#   Failed test '-nan -\u003e null'\n#   at t/117_numbers.t line 11.\n#          got: '[nan]'\n#     expected: '[null]'\n\n#   Failed test 'inf -\u003e \"inf\"'\n#   at t/117_numbers.t line 25.\n#          got: '[inf]'\n#     expected: '[\"1.#INF\"]'\n\n#   Failed test '-inf -\u003e \"-inf\"'\n#   at t/117_numbers.t line 26.\n#          got: '[-inf]'\n#     expected: '[\"-1.#INF\"]'\n\n#   Failed test 'nan -\u003e \"nan\"'\n#   at t/117_numbers.t line 29.\n#                   '[nan]'\n#     doesn't match '(?^:\\[\\\"(-1.#IND|1.#QNAN)\\\"\\])'\n\n#   Failed test '-nan -\u003e \"-nan\"'\n#   at t/117_numbers.t line 30.\n#                   '[nan]'\n#     doesn't match '(?^:\\[\\\"(-1.#IND|1.#QNAN)\\\"\\])'\n\n#   Failed test '-nan -\u003e \"-nan\"'\n#   at t/117_numbers.t line 31.\n#                   '[nan]'\n#     doesn't match '(?^:\\[\\\"(-1.#IND|1.#QNAN)\\\"\\])'\n\n#   Failed test 'inf'\n#   at t/117_numbers.t line 34.\n#          got: '[inf]'\n#     expected: '[1.#INF]'\n\n#   Failed test '-inf'\n#   at t/117_numbers.t line 35.\n#          got: '[-inf]'\n#     expected: '[-1.#INF]'\n\n#   Failed test 'nan'\n#   at t/117_numbers.t line 36.\n#                   '[nan]'\n#     doesn't match '(?^:\\[(-1.#IND|1.#QNAN)\\])'\n\n#   Failed test '-nan'\n#   at t/117_numbers.t line 37.\n#                   '[nan]'\n#     doesn't match '(?^:\\[(-1.#IND|1.#QNAN)\\])'\n\n#   Failed test '-nan'\n#   at t/117_numbers.t line 38.\n#                   '[nan]'\n#     doesn't match '(?^:\\[(-1.#IND|1.#QNAN)\\])'\n# Looks like you failed 15 tests of 19.\nt/117_numbers.t ............. \nDubious, test returned 15 (wstat 3840, 0xf00)\nFailed 15/19 subtests \nt/11_pc_expo.t .............. ok\nt/12_blessed.t .............. ok\nt/13_limit.t ................ ok\nt/14_latin1.t ............... ok\nt/15_prefix.t ............... ok\nt/16_tied.t ................. ok\nt/17_relaxed.t .............. ok\nt/18_json_checker.t ......... ok\nt/19_incr.t ................. ok\nt/20_faihu.t ................ ok\nt/20_unknown.t .............. skipped: JSON required for cross testing\nt/21_evans.t ................ ok\nt/22_comment_at_eof.t ....... ok\nt/23_array_ctx.t ............ ok\nt/24_freeze_recursion.t ..... ok\nt/25_boolean.t .............. ok\nt/52_object.t ............... ok\nt/53_readonly.t ............. ok\nt/54_stringify.t ............ skipped: JSON required for cross testing\nt/55_modifiable.t ........... ok\nt/96_interop.t .............. skipped: JSON::XS and JSON required for testing interop\nt/96_mojo.t ................. ok\nt/97_unshare_hek.t .......... ok\nt/98_56only.t ............... ok\nt/99_binary.t ............... ok\nt/z_kwalitee.t .............. skipped: This test is only run for the module author\nt/z_leaktrace.t ............. skipped: require Test::LeakTrace\nt/z_meta.t .................. skipped: This test is only run for the module author\nt/z_perl_minimum_version.t .. skipped: Author tests not required for installation\nt/z_pod-coverage.t .......... skipped: This test is only run for the module author\nt/z_pod-spell-mistakes.t .... skipped: This test is only run for the module author\nt/z_pod-spelling.t .......... skipped: This test is only run for the module author\nt/z_pod.t ................... ok\nt/zero-mojibake.t ........... ok\n\nTest Summary Report\n-------------------\nt/117_numbers.t           (Wstat: 3840 Tests: 19 Failed: 15)\n  Failed tests:  1-15\n  Non-zero exit status: 15\nFiles=59, Tests=1480, 12 wallclock secs ( 0.58 usr +  0.17 sys =  0.75 CPU)\nResult: FAIL\n```\n\nInteresting is that same perl version but **WITHOUT longdouble** PASSes all `Cpanel::JSON::XS` tests.\n\nIf you have a MS Win machine you can get longdouble build from http://strawberryperl.com/beta.html to replicate this failure.","files":null}]}