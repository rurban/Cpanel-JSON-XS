{"version":1,"ops":[{"type":6,"author":{"id":"23ee047e14d953c0cfc2a0a459c723e8a4f137c7"},"timestamp":1552740148,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE5NzI0MDQ1MA=="},"target":"1d3b3b33b9315e6819acad0f11edf7fab412466679ed653a6633a4ef2c85aaad","message":"@karenetheridge reported this issue over here:\nhttps://github.com/mojolicious/json-validator/issues/149\nI have nailed it down to this snippet, and it seems it was introduced in version 3.0202:\n```\nuse 5.010;\nuse Cpanel::JSON::XS ();\nsay Cpanel::JSON::XS-\u003eVERSION;\nmy $coder = Cpanel::JSON::XS-\u003enew-\u003eallow_blessed-\u003econvert_blessed;\nmy $data = {nick =\u003e bless({}, 'BoolTestOk')};\nmy $json = $coder-\u003eencode($data);\n\npackage BoolTestOk;\nuse overload '\"\"' =\u003e sub {1};\n```\n```\n3.0202\nAttempt to free unreferenced scalar: SV 0x7ff5fa82a8d8.\n```\nI'm on MacOS mojave (10.14.3) and perl 5.24.3","files":null},{"type":5,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1552816787,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIyMDg2MTE0MTg="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1552816828,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ3MzY1MDY3NA==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/124#issuecomment-473650674"},"message":"Nice. I saw it also but couldn't cut it down.","files":null},{"type":3,"author":{"id":"23ee047e14d953c0cfc2a0a459c723e8a4f137c7"},"timestamp":1552844756,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ3MzY4ODU0Mg==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/124#issuecomment-473688542"},"message":"I will still have the mac for a couple of weeks and can test things, if that helps","files":null},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1552858497,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ3MzcxNzE1Ng==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/124#issuecomment-473717156"},"message":"Not needed, I can reliable repro it by myself.","files":null},{"type":6,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1552858497,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE5NzQ0NzE4NA=="},"target":"c7ae5ed064c9171986239291cbbb03a37014cee8b771ff6893e04a0f987ac302","message":"Not needed, I can reliable repro it by myself.\n```\n4.10\nAttempt to free temp prematurely: SV 0x7fa15d802978 at t/gh149.pl line 6.\nALLOCATED at t/gh149.pl:9 by leavesub (parent 0x0); serial 4981\nSV = IV(0x7fa15d802968) at 0x7fa15d802978\n  REFCNT = 0\n  FLAGS = 0x1101 (IOK,pIOK)\n  IV = 1\nAttempt to free unreferenced scalar: SV 0x7fa15d802978.\n```","files":null},{"type":6,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1552858726,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE5NzQ0NzU2Mw=="},"target":"c7ae5ed064c9171986239291cbbb03a37014cee8b771ff6893e04a0f987ac302","message":"Not needed, I can reliable repro it by myself.\n```\n4.10\nAttempt to free temp prematurely: SV 0x7fa15d802978 at t/gh149.pl line 6.\nALLOCATED at t/gh149.pl:9 by leavesub (parent 0x0); serial 4981\nSV = IV(0x7fa15d802968) at 0x7fa15d802978\n  REFCNT = 0\n  FLAGS = 0x1101 (IOK,pIOK)\n  IV = 1\nAttempt to free unreferenced scalar: SV 0x7fa15d802978.\n```\n\nIt is the IV 1 from sub {1};","files":null},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1552895421,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ3MzgwMzk5Mg==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/124#issuecomment-473803992"},"message":"Fixed with 4.10. Thanks for the nice reproducer","files":null},{"type":4,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1552895421,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjIwOTUwMjcyMQ=="},"status":2},{"type":3,"author":{"id":"cfbcaa4ccc85c548a53773770f9acbb38aa86d86"},"timestamp":1552925492,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ3Mzk4MjAwMQ==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/124#issuecomment-473982001"},"message":"Thanks - the JSON-Validator test looks great now!","files":null}]}