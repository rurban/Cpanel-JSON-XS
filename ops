{"version":1,"ops":[{"type":6,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1597295985,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlRWRpdDo0MTU3Njg5MjE="},"target":"160ea3939289d4cf6583b17d969cabf8cf72dd87c28593d0ee851944c295cfa5","message":"The new code has a free problem. valgrind it\n```\n1..4\nok 1\n==2821424== Invalid write of size 8\n==2821424==    at 0x127CA927: encode_hv (XS.xs:1343)\n==2821424==    by 0x127D0503: encode_sv (XS.xs:1878)\n==2821424==    by 0x127D7D6A: encode_json (XS.xs:2632)\n==2821424==    by 0x127E6717: XS_Cpanel__JSON__XS_encode (XS.xs:4767)\n==2821424==    by 0x592AE0: Perl_pp_enterxssub (pp_hot.c:5700)\n==2821424==    by 0x7D6C1C: Perl_runops_debug (dump.c:3124)\n==2821424==    by 0x42837A: S_run_body (perl.c:2860)\n==2821424==    by 0x42790E: perl_run (perl.c:2767)\n==2821424==    by 0x421D1C: main (perlmain.c:137)\n==2821424==  Address 0x128437f8 is 0 bytes after a block of size 8 alloc'd\n==2821424==    at 0x483BB1A: calloc (vg_replace_malloc.c:760)\n==2821424==    by 0x127CA8C4: encode_hv (XS.xs:1341)\n==2821424==    by 0x127D0503: encode_sv (XS.xs:1878)\n==2821424==    by 0x127D7D6A: encode_json (XS.xs:2632)\n==2821424==    by 0x127E6717: XS_Cpanel__JSON__XS_encode (XS.xs:4767)\n==2821424==    by 0x592AE0: Perl_pp_enterxssub (pp_hot.c:5700)\n==2821424==    by 0x7D6C1C: Perl_runops_debug (dump.c:3124)\n==2821424==    by 0x42837A: S_run_body (perl.c:2860)\n==2821424==    by 0x42790E: perl_run (perl.c:2767)\n==2821424==    by 0x421D1C: main (perlmain.c:137)\n==2821424== \n==2821424== Invalid read of size 8\n==2821424==    at 0x127C8755: he_cmp_tied (XS.xs:1232)\n==2821424==    by 0x4A4DE74: msort_with_tmp.part.0 (in /usr/lib64/libc-2.30.so)\n==2821424==    by 0x4A4DDE4: msort_with_tmp.part.0 (in /usr/lib64/libc-2.30.so)\n==2821424==    by 0x4A4E345: qsort_r (in /usr/lib64/libc-2.30.so)\n==2821424==    by 0x127CAAFB: encode_hv (XS.xs:1373)\n==2821424==    by 0x127D0503: encode_sv (XS.xs:1878)\n==2821424==    by 0x127D7D6A: encode_json (XS.xs:2632)\n==2821424==    by 0x127E6717: XS_Cpanel__JSON__XS_encode (XS.xs:4767)\n==2821424==    by 0x592AE0: Perl_pp_enterxssub (pp_hot.c:5700)\n==2821424==    by 0x7D6C1C: Perl_runops_debug (dump.c:3124)\n==2821424==    by 0x42837A: S_run_body (perl.c:2860)\n==2821424==    by 0x42790E: perl_run (perl.c:2767)\n==2821424==  Address 0x128437f8 is 0 bytes after a block of size 8 alloc'd\n==2821424==    at 0x483BB1A: calloc (vg_replace_malloc.c:760)\n==2821424==    by 0x127CA8C4: encode_hv (XS.xs:1341)\n==2821424==    by 0x127D0503: encode_sv (XS.xs:1878)\n==2821424==    by 0x127D7D6A: encode_json (XS.xs:2632)\n==2821424==    by 0x127E6717: XS_Cpanel__JSON__XS_encode (XS.xs:4767)\n==2821424==    by 0x592AE0: Perl_pp_enterxssub (pp_hot.c:5700)\n==2821424==    by 0x7D6C1C: Perl_runops_debug (dump.c:3124)\n==2821424==    by 0x42837A: S_run_body (perl.c:2860)\n==2821424==    by 0x42790E: perl_run (perl.c:2767)\n==2821424==    by 0x421D1C: main (perlmain.c:137)\n```","files":null},{"type":5,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1597295884,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDM2NTA0NDQ0MjU="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1597296831,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MzI2OTc4NA==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/168#issuecomment-673269784"},"message":"The allocation of the temp. HEK was not big enough. Forgot about that.","files":null},{"type":3,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1601629851,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDcwMjYxNzA4MQ==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/168#issuecomment-702617081"},"message":"Fixed with fbb1a24ca0fada6a97143d4d01676e40f9e46dd7\nin 4.21 btw","files":null},{"type":4,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1601629851,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzgzMzA3MTk5MQ=="},"status":2}]}