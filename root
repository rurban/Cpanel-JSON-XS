{"version":1,"ops":[{"type":1,"author":{"id":"bebaecf8f393006268df3feca4fc978b1d8cdec1"},"timestamp":1613676462,"metadata":{"github-id":"MDU6SXNzdWU4MTEzOTIxODE=","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/175","origin":"github"},"title":"allow_blessed/convert_blessed and type_all_string compatibility","message":"Hello.\n\nI'm trying to use the `allow_blessed/convert_blessed` and `type_all_string` simultaneously. But the result looks like as the`type_all_string` has a higher priority than the `allow_blessed/convert_blessed` .\n\nHere's a sample code:\n```\n#!/usr/bin/env perl\n\nuse v5.20;\nuse strict;\nuse Cpanel::JSON::XS;\n\nmy $json = Cpanel::JSON::XS-\u003enew-\u003eallow_blessed(1)-\u003econvert_blessed(1)-\u003etype_all_string(1);\n\nmy $obj = bless {}, 'foo';\n\nmy $ref = { num =\u003e 123, str =\u003e 'val', obj =\u003e $obj };\n\nsay  $json-\u003eencode($ref);\n```\n\nResult:\n```\n{\"obj\":\"foo=HASH(0x562c5c8ff7b0)\",\"str\":\"val\",\"num\":\"123\"}\n{\"obj\":null,\"str\":\"val\",\"num\":123}\n```\n\nThe expected result with `allow/convert_blessed` and `type_all_string` is:\n```\n{\"obj\":null,\"str\":\"val\",\"num\":\"123\"}\n```\n\nDid I forget some options or is this a bug or some feature?\n\nThank you in advance!\n\nDenis","files":null}]}