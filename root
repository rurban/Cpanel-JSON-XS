{"version":1,"ops":[{"type":1,"author":{"id":"d19730b1d47a47ba43733401ca1bc3d2bbb7f976"},"timestamp":1418353910,"metadata":{"github-id":"MDU6SXNzdWU1MTc2NjIwOA==","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/31","origin":"github"},"title":"Upgraded string encoding improperly","message":"Test adapted from Mojo::JSON's tests, failing now on 3.0108\n\n```\n# Upgraded string\n$str = \"bar\";\n{ no warnings 'numeric'; $num = 23 + $str }\nis encode_json({test =\u003e [$num, $str]}), '{\"test\":[23,\"bar\"]}',\n  'upgraded string detected';\n\n#   Failed test 'upgraded string detected'\n#   at t/json.t line 310.\n#          got: '{\"test\":[23,\"bar\" true\"]}]}'\n#     expected: '{\"test\":[23,\"bar\"]}'\n```\n\nFrom the commandline I get stranger output...\n\n```\n$ perl -MCpanel::JSON::XS -e'my $num; my $str = \"bar\"; { no warnings \"numeric\"; $num = 23 + $str } print encode_json({test =\u003e [$num, $str]}), \"\\n\"'\n{\"test\":[23,\"bar\"5/lib/perl5/x86_64-linu!]}\n\n$ perl -MCpanel::JSON::XS -le'my $num; my $str = \"bar\"; { no warnings \"numeric\"; $num = 23 + $str } print encode_json({test =\u003e [$num, $str]})'\n{\"test\":[23,\"bar\"K\n5]}\n```\n\nSeems like it is throwing something in the output that shouldn't go there.","files":null}]}