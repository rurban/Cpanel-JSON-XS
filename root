{"version":1,"ops":[{"type":1,"author":{"id":"42b8049125821cad60d350df07d9d216b854f3f7"},"timestamp":1477814535,"metadata":{"github-id":"MDU6SXNzdWUxODYxMjI4NDk=","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/74","origin":"github"},"title":"fix Unicode non-character handling","message":"With 3.022 we try to replace the entire range of 0xfdd1 to 0x10fffe with the replacement char, but due to a coding mistake from the previous issue #73 this replacement was never executed.\nThe actual range of non-characters is much smaller than that. U+FDD0..U+FDEF, U+FFFE, U+FFFF, and U+xFFFE, U+xFFFF for each supplementary plane.\n\nThis was a mistake.\nRegarding the action: keep noncharacters asis for interchange of private codepoints.\nUse the same HANDLE_UNICODE_NONCHAR action:\n\n```\n    Perl_ck_warner_d(aTHX_ packWARN(WARN_NONCHAR),\n         \"Unicode non-character U+%04\"UVXf\" is not \"\n                 \"recommended for open interchange\", uv); \n```\n\n\u003c5.14 we warned at WARN_UTF8.\n\nhttp://unicode.org/review/pr-121.html is not for non-characters just for replacement characters in handling ill-formed subsequences.","files":null}]}