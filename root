{"version":1,"ops":[{"type":1,"author":{"id":"5e0a68f2609f1b2ed53fa7449ddf2c976324fce4"},"timestamp":1504776040,"metadata":{"github-id":"MDU6SXNzdWUyNTU4NzA3NTc=","github-url":"https://github.com/rurban/Cpanel-JSON-XS/issues/99","origin":"github"},"title":"Cpanel::JSON::XS changes locale for all process threads with race condition","message":"Commit which introduced this problem: https://github.com/rurban/Cpanel-JSON-XS/commit/f799b2e83bd38a3f6d3fba57ea3177261cd48b97\n\nBasically if perl interpreter is running only in one thread (e.g. in multithread application which uses one thread for perl), then Cpanel::JSON::XS changes locale temporary for all running threads, not just for that one in which is running perl. \n\nFix should be straightforward, using function `uselocale` which affects only one thread, instead of `setlocale` which affects all threads of process.","files":null}]}